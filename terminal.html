#set up a virtual environement 
python3 -m venv env
#activate the virtual env
source env/bin/activate

#if there is an error quit() then enter /Applications/Python\ 3.11/Install\ Certificates.command

#after pip install beautifulsoup one line at a time 
from urllib.request import urlopen
from bs4 import BeautifulSoup
page = urlopen("https://weimergeeks.com/examples/scraping/example1.html")
soup = BeautifulSoup(page, "html.parser")
print(soup.h1)

#caser l'élément dans un titre 
heading = soup.h1
print(heading.text)

#extraire le texte d'une liste 
city_list = soup.find_all( "td", class_="city" )
for city in city_list:
    print( city.get_text() )

#after pip install beautifulsoup + requests --> go to python environnement (python3) and...
from bs4 import BeautifulSoup
import requests
url = 'https://www.boxofficemojo.com/year/2018/'
page = requests.get(url)
soup = BeautifulSoup(page.text, 'html.parser')
table = soup.find( 'table' )

# get all the rows from that one table
rows = table.find_all('tr')
print(rows[1])

# get top 5 movies on this page - I know the first row is [1]
for i in range(1, 6):
    cells = rows[i].find_all('td')
    title = cells[1].text
    print(title)

#sur les 5 premières lignes du table, montrer les cells de colonnes 1, 2 et 6
for i in range(1, 6):
    cells = rows[i].find_all('td')
    print(cells[0].text, cells[1].text, cells[7].text)

#creer une liste décroissante en partant en 2019
years = []
start = 2019
for i in range(0, 10):
    years.append(start - i)
#avant de print, fermer les ... (faire enter)
print(years)

# create base url
base_url = 'https://www.boxofficemojo.com/year/'
#rajouter une année (présente dans la liste créée prcédemment) pour l'inclure à la fin de la base_url 
print( base_url + str(years[0]) + '/')
prout 
date = 2020 
